{"version":3,"sources":["../../src/internal/coin.ts"],"sourcesContent":["import { EndlessConfig } from \"../api/endlessConfig\";\nimport { AccountAddress, AccountAddressInput } from \"../core\";\nimport { EntryFunctionABI, InputGenerateTransactionOptions } from \"../transactions/types\";\nimport { AnyNumber, GetCoinDataResponse } from \"../types\";\nimport { generateTransaction } from \"./transactionSubmission\";\nimport { parseTypeTag, TypeTagAddress, TypeTagU128 } from \"../transactions\";\nimport { SimpleTransaction } from \"../transactions/instances/simpleTransaction\";\nimport { getEndlessIndexer, postEndlessIndexer } from \"../client\";\n\nconst transferCoinAbi: EntryFunctionABI = {\n  typeParameters: [{ constraints: [] }],\n  parameters: [new TypeTagAddress(), new TypeTagU128(), parseTypeTag(\"0x1::object::Object\")],\n};\n\nexport async function transferCoinTransaction(args: {\n  endlessConfig: EndlessConfig;\n  sender: AccountAddressInput;\n  fungibleAssetMetadataAddress: AccountAddress;\n  recipient: AccountAddressInput;\n  amount: AnyNumber;\n  options?: InputGenerateTransactionOptions;\n}): Promise<SimpleTransaction> {\n  const { endlessConfig, sender, fungibleAssetMetadataAddress, recipient, amount, options } = args;\n  return generateTransaction({\n    endlessConfig,\n    sender,\n    data: {\n      function: \"0x1::endless_account::transfer_coins\",\n      typeArguments: [\"0x1::fungible_asset::Metadata\"],\n      functionArguments: [recipient, amount, fungibleAssetMetadataAddress],\n      abi: transferCoinAbi,\n    },\n    options,\n  });\n}\n\nexport async function getCoinData(\n  endlessConfig: EndlessConfig,\n  coinAddress: AccountAddressInput,\n): Promise<GetCoinDataResponse> {\n  const { data } = await getEndlessIndexer<{}, GetCoinDataResponse>({\n    endlessConfig,\n    originMethod: \"getCoinData\",\n    path: `coins/${coinAddress}`,\n  });\n  return data;\n}\n\nexport async function getCoinListDataById(\n  endlessConfig: EndlessConfig,\n  coinListAddress: AccountAddressInput[],\n): Promise<GetCoinDataResponse[]> {\n  const { data } = await postEndlessIndexer<{}, GetCoinDataResponse[]>({\n    endlessConfig,\n    originMethod: \"getCoinListDataById\",\n    path: \"coins\",\n    body: coinListAddress,\n  });\n  return data;\n}\n"],"mappings":"oNASA,IAAMA,EAAoC,CACxC,eAAgB,CAAC,CAAE,YAAa,CAAC,CAAE,CAAC,EACpC,WAAY,CAAC,IAAIC,EAAkB,IAAIC,EAAeC,EAAa,qBAAqB,CAAC,CAC3F,EAEA,eAAsBC,EAAwBC,EAOf,CAC7B,GAAM,CAAE,cAAAC,EAAe,OAAAC,EAAQ,6BAAAC,EAA8B,UAAAC,EAAW,OAAAC,EAAQ,QAAAC,CAAQ,EAAIN,EAC5F,OAAOO,EAAoB,CACzB,cAAAN,EACA,OAAAC,EACA,KAAM,CACJ,SAAU,uCACV,cAAe,CAAC,+BAA+B,EAC/C,kBAAmB,CAACE,EAAWC,EAAQF,CAA4B,EACnE,IAAKR,CACP,EACA,QAAAW,CACF,CAAC,CACH,CAEA,eAAsBE,EACpBP,EACAQ,EAC8B,CAC9B,GAAM,CAAE,KAAAC,CAAK,EAAI,MAAMC,EAA2C,CAChE,cAAAV,EACA,aAAc,cACd,KAAM,SAASQ,CAAW,EAC5B,CAAC,EACD,OAAOC,CACT,CAEA,eAAsBE,EACpBX,EACAY,EACgC,CAChC,GAAM,CAAE,KAAAH,CAAK,EAAI,MAAMI,EAA8C,CACnE,cAAAb,EACA,aAAc,sBACd,KAAM,QACN,KAAMY,CACR,CAAC,EACD,OAAOH,CACT","names":["transferCoinAbi","TypeTagAddress","TypeTagU128","parseTypeTag","transferCoinTransaction","args","endlessConfig","sender","fungibleAssetMetadataAddress","recipient","amount","options","generateTransaction","getCoinData","coinAddress","data","getEndlessIndexer","getCoinListDataById","coinListAddress","postEndlessIndexer"]}