{"version":3,"sources":["../../src/api/endless.ts"],"sourcesContent":["// Copyright © Endless\n// Copyright © Aptos Foundation\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Account } from \"./account\";\nimport { EndlessConfig } from \"./endlessConfig\";\nimport { Coin } from \"./coin\";\nimport { DigitalAsset } from \"./digitalAsset\";\nimport { Event } from \"./event\";\nimport { FungibleAsset } from \"./fungibleAsset\";\nimport { General } from \"./general\";\nimport { ANS } from \"./ans\";\nimport { Staking } from \"./staking\";\nimport { Transaction } from \"./transaction\";\nimport { Table } from \"./table\";\nimport { EndlessAccount } from \"./endlessAccount\";\n\n/**\n * This class is the main entry point into Endless's\n * APIs and separates functionality into different namespaces.\n *\n * To use the SDK, create a new Endless instance to get access\n * to all the sdk functionality.\n *\n * @example\n *\n * const endless = new Endless();\n */\nexport class Endless {\n  readonly config: EndlessConfig;\n\n  readonly account: Account;\n\n  readonly ans: ANS;\n\n  readonly coin: Coin;\n\n  readonly digitalAsset: DigitalAsset;\n\n  readonly endlessAccount: EndlessAccount;\n\n  readonly event: Event;\n\n  readonly fungibleAsset: FungibleAsset;\n\n  readonly general: General;\n\n  readonly staking: Staking;\n\n  readonly transaction: Transaction;\n\n  readonly table: Table;\n\n  constructor(settings?: EndlessConfig) {\n    this.config = new EndlessConfig(settings);\n    this.account = new Account(this.config);\n    this.ans = new ANS(this.config);\n    this.coin = new Coin(this.config);\n    this.digitalAsset = new DigitalAsset(this.config);\n    this.endlessAccount = new EndlessAccount(this.config);\n    this.event = new Event(this.config);\n    this.fungibleAsset = new FungibleAsset(this.config);\n    this.general = new General(this.config);\n    this.staking = new Staking(this.config);\n    this.transaction = new Transaction(this.config);\n    this.table = new Table(this.config);\n  }\n}\n\n// extends Endless interface so all the methods and properties\n// from the other classes will be recognized by typescript.\nexport interface Endless\n  extends Account,\n  ANS,\n  Coin,\n  DigitalAsset,\n  EndlessAccount,\n  Event,\n  FungibleAsset,\n  General,\n  Staking,\n  Table,\n  Omit<Transaction, \"build\" | \"simulate\" | \"submit\" | \"batch\"> { }\n\n/**\nIn TypeScript, we can’t inherit or extend from more than one class,\nMixins helps us to get around that by creating a partial classes\nthat we can combine to form a single class that contains all the methods and properties from the partial classes.\n{@link https://www.typescriptlang.org/docs/handbook/mixins.html#alternative-pattern}\n\nHere, we combine any subclass and the Endless class.\n*/\nfunction applyMixin(targetClass: any, baseClass: any, baseClassProp: string) {\n  // Mixin instance methods\n  Object.getOwnPropertyNames(baseClass.prototype).forEach((propertyName) => {\n    const propertyDescriptor = Object.getOwnPropertyDescriptor(baseClass.prototype, propertyName);\n    if (!propertyDescriptor) return;\n    // eslint-disable-next-line func-names\n    propertyDescriptor.value = function (...args: any) {\n      return (this as any)[baseClassProp][propertyName](...args);\n    };\n    Object.defineProperty(targetClass.prototype, propertyName, propertyDescriptor);\n  });\n}\n\napplyMixin(Endless, Account, \"account\");\napplyMixin(Endless, ANS, \"ans\");\napplyMixin(Endless, Coin, \"coin\");\napplyMixin(Endless, DigitalAsset, \"digitalAsset\");\napplyMixin(Endless, EndlessAccount, \"endlessAccount\");\napplyMixin(Endless, Event, \"event\");\napplyMixin(Endless, FungibleAsset, \"fungibleAsset\");\napplyMixin(Endless, General, \"general\");\napplyMixin(Endless, Staking, \"staking\");\napplyMixin(Endless, Transaction, \"transaction\");\napplyMixin(Endless, Table, \"table\");\n"],"mappings":"ueA4BO,IAAMA,EAAN,KAAc,CAyBnB,YAAYC,EAA0B,CACpC,KAAK,OAAS,IAAIC,EAAcD,CAAQ,EACxC,KAAK,QAAU,IAAIE,EAAQ,KAAK,MAAM,EACtC,KAAK,IAAM,IAAIC,EAAI,KAAK,MAAM,EAC9B,KAAK,KAAO,IAAIC,EAAK,KAAK,MAAM,EAChC,KAAK,aAAe,IAAIC,EAAa,KAAK,MAAM,EAChD,KAAK,eAAiB,IAAIC,EAAe,KAAK,MAAM,EACpD,KAAK,MAAQ,IAAIC,EAAM,KAAK,MAAM,EAClC,KAAK,cAAgB,IAAIC,EAAc,KAAK,MAAM,EAClD,KAAK,QAAU,IAAIC,EAAQ,KAAK,MAAM,EACtC,KAAK,QAAU,IAAIC,EAAQ,KAAK,MAAM,EACtC,KAAK,YAAc,IAAIC,EAAY,KAAK,MAAM,EAC9C,KAAK,MAAQ,IAAIC,EAAM,KAAK,MAAM,CACpC,CACF,EAyBA,SAASC,EAAWC,EAAkBC,EAAgBC,EAAuB,CAE3E,OAAO,oBAAoBD,EAAU,SAAS,EAAE,QAASE,GAAiB,CACxE,IAAMC,EAAqB,OAAO,yBAAyBH,EAAU,UAAWE,CAAY,EACvFC,IAELA,EAAmB,MAAQ,YAAaC,EAAW,CACjD,OAAQ,KAAaH,CAAa,EAAEC,CAAY,EAAE,GAAGE,CAAI,CAC3D,EACA,OAAO,eAAeL,EAAY,UAAWG,EAAcC,CAAkB,EAC/E,CAAC,CACH,CAEAL,EAAWd,EAASG,EAAS,SAAS,EACtCW,EAAWd,EAASI,EAAK,KAAK,EAC9BU,EAAWd,EAASK,EAAM,MAAM,EAChCS,EAAWd,EAASM,EAAc,cAAc,EAChDQ,EAAWd,EAASO,EAAgB,gBAAgB,EACpDO,EAAWd,EAASQ,EAAO,OAAO,EAClCM,EAAWd,EAASS,EAAe,eAAe,EAClDK,EAAWd,EAASU,EAAS,SAAS,EACtCI,EAAWd,EAASW,EAAS,SAAS,EACtCG,EAAWd,EAASY,EAAa,aAAa,EAC9CE,EAAWd,EAASa,EAAO,OAAO","names":["Endless","settings","EndlessConfig","Account","ANS","Coin","DigitalAsset","EndlessAccount","Event","FungibleAsset","General","Staking","Transaction","Table","applyMixin","targetClass","baseClass","baseClassProp","propertyName","propertyDescriptor","args"]}