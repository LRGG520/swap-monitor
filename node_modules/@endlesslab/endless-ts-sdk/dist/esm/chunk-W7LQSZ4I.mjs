import{a as u}from"./chunk-Q43D55M4.mjs";import{a as R}from"./chunk-APPRGGHM.mjs";var c={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function p(r,l){let{url:o,method:a,body:d,contentType:i,params:s,overrides:e,originMethod:n}=r,t={...e?.HEADERS,"x-endless-client":`endless-typescript-sdk/${R}`,"content-type":i??"application/json","x-endless-typescript-sdk-origin-method":n};return e?.API_KEY&&(t.Authorization=`Bearer ${e?.API_KEY}`),l.provider({url:o,method:a,body:d,params:s,headers:t,overrides:e})}async function T(r,l,o){let{url:a,path:d}=r,i=d?`${a}/${d}`:a,s=await p({...r,url:i},l.client),e={status:s.status,statusText:s.statusText,data:s.data,headers:s.headers,config:s.config,request:s.request,url:i};if(e.status===401)throw new u(r,e,`Error: ${e.data}`);if(o==="Indexer"){let t=e.data;if(t.errors)throw new u(r,e,t.errors?.[0]?.message?`Indexer error: ${t.errors[0].message}`:`Indexer unhandled Error ${s.status} : ${s.statusText}`);e.data=t}if(e.status>=200&&e.status<300)return e;let n;throw e&&e.data&&"message"in e.data&&"error_code"in e.data?n=JSON.stringify(e.data):e.status in c?n=c[e.status]:n=`Unhandled Error ${e.status} : ${e.statusText}`,new u(r,e,`${o} error: ${n}`)}export{p as a,T as b};
//# sourceMappingURL=chunk-W7LQSZ4I.mjs.map